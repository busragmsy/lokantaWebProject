@using lokantaWebProject.Entities
@model List<Comment>

<section id="testimonials" class="testimonials section">

    <div class="container section-title" data-aos="fade-up">
        <h2>Yorumlar</h2>
        <p>Müşterilerimiz bizim hakkımızda ne diyor?</p>
    </div>

    <div class="container" data-aos="fade-up" data-aos-delay="100">
        <div class="swiper init-swiper" data-speed="600" data-delay="5000"
             data-breakpoints="{ &quot;320&quot;: { &quot;slidesPerView&quot;: 1, &quot;spaceBetween&quot;: 40 }, &quot;1200&quot;: { &quot;slidesPerView&quot;: 3, &quot;spaceBetween&quot;: 40 } }">

            <script type="application/json" class="swiper-config">
                {
                  "loop": true,
                  "speed": 600,
                  "autoplay": { "delay": 5000 },
                  "slidesPerView": "auto",
                  "pagination": { "el": ".swiper-pagination", "type": "bullets", "clickable": true },
                  "breakpoints": {
                    "320":   { "slidesPerView": 1, "spaceBetween": 40 },
                    "1200":  { "slidesPerView": 3, "spaceBetween": 20 }
                  }
                }
            </script>

            <div class="swiper-wrapper">
                @foreach (var comment in Model)
                {
                    <div class="swiper-slide">
                        <div class="testimonial-item">
                            <p>
                                <i class="bi bi-quote quote-icon-left"></i>
                                <span>@comment.Text</span>
                                <i class="bi bi-quote quote-icon-right"></i>
                            </p>

                            <div class="testimonial-content">
                                <div class="testimonial-meta">
                                    <!-- SOL: Yıldızlar -->
                                    <div class="stars">
                                        @for (int i = 0; i < comment.Rating; i++)
                                        {
                                            <i class="bi bi-star-fill"></i>
                                        }
                                        @for (int i = comment.Rating; i < 5; i++)
                                        {
                                            <i class="bi bi-star"></i>
                                        }
                                    </div>

                                    <!-- SAĞ: İsim + Tarih -->
                                    <div class="author">
                                        <h3>@comment.AuthorName</h3>
                                        <div class="date">@comment.DatePosted.ToShortDateString()</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                }
            </div>

            <div class="swiper-pagination"></div>
        </div>
    </div>
</section>
